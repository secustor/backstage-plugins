{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:best-practices"],
  ignorePresets: ["replacements:material-ui-to-mui"],
  lockFileMaintenance: {
    enabled: true,
  },
  postUpdateOptions: ["yarnDedupeHighest"],
  packageRules: [
    {
      matchFileNames: ["plugins/**"],
      rangeStrategy: "replace",
    },
    {
      matchDatasources: ["npm"],
      excludeDepNames: ["renovate"],
      minimumReleaseAge: "3 days",
    },
    {
      matchPackagePrefixes: ["@types/"],
      matchManagers: ["npm"],
      automerge: true,
    },
    {
      matchDepTypes: ["devDependencies"],
      matchManagers: ["npm"],
      automerge: true,
    },
    {
      matchPackageNames: ["@sindresorhus/is"],
      allowedVersions: "<5.0.0",
    },
    {
      matchPackageNames: ["yn"],
      allowedVersions: "<5.0.0",
    },
    {
      matchPackageNames: ["find-up"],
      allowedVersions: "<6.0.0",
    },
    {
      matchPackageNames: ["node-fetch"],
      allowedVersions: "<3.0.0",
    },
    {
      matchManagers: ["custom.regex"],
      pinDigests: true,
    },
  ],
  customManagers: [
    {
      customType: "regex",
      fileMatch: "backstage\\.json$",
      matchStrings: ['"version":\\s*"(?<currentValue>[^"]+)'],
      depNameTemplate: "backstage/backstage",
      datasourceTemplate: "github-release",
      versioningTemplate: "semver-coerced",
    },
    {
      customType: "regex",
      fileMatch: "^plugins/renovate-backend-module-runtime-docker/.*",
      matchStrings: [
        "tag:\\s+latest\\s+#\\s*default:\\s*(?<currentValue>\\S+)",
        "imageTag\\s*=\\s*'(?<currentValue>\\S*?)'",
      ],
      depNameTemplate: "renovate",
      packageNameTemplate: "ghcr.io/renovatebot/renovate",
      datasourceTemplate: "docker",
    },
  ],
}
