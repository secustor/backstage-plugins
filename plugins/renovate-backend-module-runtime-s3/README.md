# @secustor/plugin-renovate-backend-module-runtime-s3

This plugin provides a runtime implementation for the Renovate backend plugin.

It's use Report generated by another instance of Renovate and pushed to S3 bucket. The plugin will read the report from S3 and use it as the source of truth for the scan lookup run.
https://docs.renovatebot.com/self-hosted-configuration/#reporttype

## Getting started

Install the plugin:

```bash
# Install packages from the root directory
yarn --cwd packages/backend add @secustor/backstage-plugin-renovate-backend-module-runtime-s3
```

Add the plugin to your Backstage instance:

```ts
// Add the following to `packages/backend/src/index.ts`
backend.add(
  import('@secustor/backstage-plugin-renovate-backend-module-runtime-s3'),
);
```

```yaml
renovate:
  runtime:
    type: s3
    s3:
      bucket: backstage-data
      region: eu-west-x
      key: renovate.json
      endpoint: https://s3.eu-west-x.amazonaws.com #optional
```

## Authentication

The plugin uses the AWS SDK to authenticate with S3.

The AWS credentials are automatically detected with environment variables or IAM role.
